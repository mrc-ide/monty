<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load example models from monty. These models exist so that we can create (hopefully) interesting examples in the documentation without them becoming overwhelming. You should probably not use these for anything other than exploring the package. — monty_example • monty</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Load example models from monty. These models exist so that we can create (hopefully) interesting examples in the documentation without them becoming overwhelming. You should probably not use these for anything other than exploring the package. — monty_example"><meta name="description" content="Load small, ready-made target distributions for demonstrations, tests,
and examples. These models exist so that we can create (hopefully)
interesting examples in the documentation without them becoming
overwhelming. All examples contain an analytic gradient and can
thus be also used to explore gradient-based samplers such as
monty_sampler_hmc."><meta property="og:description" content="Load small, ready-made target distributions for demonstrations, tests,
and examples. These models exist so that we can create (hopefully)
interesting examples in the documentation without them becoming
overwhelming. All examples contain an analytic gradient and can
thus be also used to explore gradient-based samplers such as
monty_sampler_hmc."><meta property="og:image" content="https://mrc-ide.github.io/monty/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">monty</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/monty.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Basics</h6></li>
    <li><a class="dropdown-item" href="../articles/dsl.html">Probabilistic DSL</a></li>
    <li><a class="dropdown-item" href="../articles/samples.html">Working with samples</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Details</h6></li>
    <li><a class="dropdown-item" href="../articles/dsl-errors.html">DSL parse errors</a></li>
    <li><a class="dropdown-item" href="../articles/samplers.html">Samplers</a></li>
    <li><a class="dropdown-item" href="../articles/migration.html">Migration from mcstate</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Extending</h6></li>
    <li><a class="dropdown-item" href="../articles/writing-samplers.html">Writing samplers</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mrc-ide/monty/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Load example models from monty. These models exist so that we can create (hopefully) interesting examples in the documentation without them becoming overwhelming. You should probably not use these for anything other than exploring the package.</h1>
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/monty/blob/main/R/example.R" class="external-link"><code>R/example.R</code></a></small>
      <div class="d-none name"><code>monty_example.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Load small, ready-made target distributions for demonstrations, tests,
and examples. These models exist so that we can create (hopefully)
interesting examples in the documentation without them becoming
overwhelming. All examples contain an analytic gradient and can
thus be also used to explore gradient-based samplers such as
<a href="monty_sampler_hmc.html">monty_sampler_hmc</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">monty_example</span><span class="op">(</span><span class="va">name</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Name of the example, as a string.  See Details for
supported models.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional parameters that are passed to create the
model.  All models can be created with no additional parameters,
but you can tweak their behaviour by passing named parameters
here.  See Details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="monty_model.html">monty_model</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="supported-models-">Supported models:<a class="anchor" aria-label="anchor" href="#supported-models-"></a></h2>
    <p>Each model has <strong>arguments</strong> that are passed through as <code>...</code> in
<code>monty_example</code> and are used to set up the example.  This creates
a <code>monty_model</code> object that will accept <strong>parameters</strong>, which are
the values in the argument <code>parameters</code> passed to
<code>monty_model_density</code>.</p><div class="section">
<h3 id="banana"><code>banana</code><a class="anchor" aria-label="anchor" href="#banana"></a></h3>


<p>The banana model is a two-dimensional banana-shaped function, with
strong local correlation.  This example was picked because it is
useful for illustrating the limitations of random-walk proposals.
The model has two parameters <code>alpha</code> and <code>beta</code> and is based on
two successive draws, one conditional on the other.</p>
<p>You can vary the argument <code>sigma</code> for this model on creation, the
default is 0.5</p>
</div>

<div class="section">
<h3 id="gaussian"><code>gaussian</code><a class="anchor" aria-label="anchor" href="#gaussian"></a></h3>


<p>A multivariate Gaussian centred at the origin.  Takes a
variance-covariance-matrix as its argument.  Parameters are
letters a, b, ... up to the number of dimensions.</p>
</div>

<div class="section">
<h3 id="ring"><code>ring</code><a class="anchor" aria-label="anchor" href="#ring"></a></h3>


<p>A two-dimensional ring-shaped density whose log-density is
proportional to $-(\|x\|-r)^2/(2\,sd^2)$.  Includes an analytic
gradient and a direct sampler in polar coordinates.  The
constructor takes that arguments <code>r</code> (default 3) and <code>sd</code> (default
0.2), and the parameters of the <code>monty_model</code> are <code>x1</code> and <code>x2</code>
(corresponding to the two dimensions of the polar coordinates).</p>
<p>Increasing <code>r</code> or decreasing <code>sd</code> will make the ridge of high
probability space narrower; this is easiest to visualise in true
densities (rather than log density).</p>
</div>

<div class="section">
<h3 id="mixture-d"><code>mixture2d</code><a class="anchor" aria-label="anchor" href="#mixture-d"></a></h3>


<p>An equal-weight mixture of <code>k</code> isotropic 2D Gaussians with
standard deviation <code>sd</code> and centres either provided by the
argument (<code>means</code>) or drawn uniformly in a square of half-width
<code>spread</code> (which must be provided if <code>means</code> is not
provided). Includes an analytic gradient.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="monty_model.html">monty_model</a>, <a href="monty_model_properties.html">monty_model_properties</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Small helper function to make the plotting easier</span></span></span>
<span class="r-in"><span><span class="va">show_2d_example</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">m</span>, <span class="va">rx</span>, <span class="va">ry</span> <span class="op">=</span> <span class="va">rx</span>, <span class="va">n</span> <span class="op">=</span> <span class="fl">101</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">rx</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">rx</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, length.out <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">ry</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">ry</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, length.out <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unname.html" class="external-link">unname</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="monty_model_density.html">monty_model_density</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">xy</span><span class="op">)</span>, <span class="va">n</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, drawlabels <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>          lwd <span class="op">=</span> <span class="fl">0.5</span>, col <span class="op">=</span> <span class="st">"#00000088"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Banana target</span></span></span>
<span class="r-in"><span><span class="va">m_banana</span> <span class="op">&lt;-</span> <span class="fu">monty_example</span><span class="op">(</span><span class="st">"banana"</span>, sigma <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">show_2d_example</span><span class="op">(</span><span class="va">m_banana</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">1.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="monty_example-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ring target with radius 3 and narrow thickness</span></span></span>
<span class="r-in"><span><span class="va">m_ring</span> <span class="op">&lt;-</span> <span class="fu">monty_example</span><span class="op">(</span><span class="st">"ring"</span>, r <span class="op">=</span> <span class="fl">3</span>, sd <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">show_2d_example</span><span class="op">(</span><span class="va">m_ring</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="monty_example-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2D Gaussian mixture with 20 components</span></span></span>
<span class="r-in"><span><span class="va">m_mixture</span> <span class="op">&lt;-</span> <span class="fu">monty_example</span><span class="op">(</span><span class="st">"mixture2d"</span>, k <span class="op">=</span> <span class="fl">20</span>, sd <span class="op">=</span> <span class="fl">0.5</span>, spread <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">show_2d_example</span><span class="op">(</span><span class="va">m_mixture</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="monty_example-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich FitzJohn, Wes Hinsley, Ed Knock, Marc Baguelin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

